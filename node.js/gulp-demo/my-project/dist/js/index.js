window.addEventListener("load",function(){var t=document.querySelector(".focus"),r=t.children[0],n=t.offsetWidth,a=0,s=flase,e=setInterval(function(){o(++a,n),r.style.transition="all .3s"},2e3);function o(t,e){var n=-t*e+"px";r.style.transform="translateX("+n+")"}r.addEventListener("transitionend",function(){3<=a?(console.log(1),a=0,r.style.transition="none",o(a,n)):a<0&&(a=2,r.style.transition="none",o(a,n));var t=document.querySelectorAll(".dot li");document.querySelector(".current").classList.remove("current"),t[a].classList.add("current")});var l=0,i=0;r.addEventListener("touchstart",function(t){l=t.targetTouches[0].pageX,clearInterval(e)}),r.addEventListener("touchmove",function(t){i=t.targetTouches[0].pageX-l;var e=-a*n+i+"px";r.style.transform="translateX("+e+")",s=!0,t.preventDefault()}),r.addEventListener("touchend",function(t){s&&(50<Math.abs(i)&&(i<0?a++:a--),r.style.transition="all .3s",o(a,n),clearInterval(e),e=setInterval(function(){o(++a,n),r.style.transition="all .3s"},2e3),s=!1)})});